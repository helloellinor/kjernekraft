{{define "event_card"}}
<div class="event-card {{.ClassType}}" onclick="toggleEventCard(this)">
    <div class="event-time">{{formatTimeShort .StartTime}}-{{formatTimeShort .EndTime}}</div>
    <div class="event-title">{{.Title}}</div>
    <div class="event-teacher">{{.TeacherName}}</div>
    {{$remaining := sub .Capacity .CurrentEnrolment}}
    <div class="event-spaces">
        {{if lt .CurrentEnrolment .Capacity}}
            {{if eq $remaining 1}}
                1 plass igjen
            {{else}}
                {{$remaining}} plasser igjen
            {{end}}
        {{else}}
            Venteliste
        {{end}}
    </div>
    <div class="event-details">
        <button class="signup-btn {{if ge .CurrentEnrolment .Capacity}}waitlist{{end}}" 
                onclick="signupForClass({{.ID}}); event.stopPropagation();">
            {{if lt .CurrentEnrolment .Capacity}}
                Meld på
            {{else}}
                Stå på venteliste
            {{end}}
        </button>
    </div>
</div>
{{end}}
